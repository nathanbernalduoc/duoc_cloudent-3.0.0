{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./tratamientos.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./tratamientos.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { TratamientosService } from '../../services/tratamientos.service';\nimport { HttpClientModule } from '@angular/common/http';\n/**\n * @descripcion\n * Administración de tratamientos\n *\n * Permite mandener tratamientos los que pueden ser utilizadns\n * en el formulario de agenda para seleccionar.\n *\n */\n/**\n *\n * @usageNotes\n *\n * Agregar tratamientos\n * Quitar tratamientos\n * Tratamienso almacenados en un arreglo temporal\n *\n **/\nlet TratamientosComponent = class TratamientosComponent {\n  router;\n  fb;\n  jsonTratamientos;\n  tratamiento = {};\n  tratamientos = [];\n  tratamientoForm;\n  constructor(router, fb, jsonTratamientos) {\n    this.router = router;\n    this.fb = fb;\n    this.jsonTratamientos = jsonTratamientos;\n  }\n  ngOnInit() {\n    console.log('Tratamientos');\n    this.tratamientoForm = this.fb.group({\n      nombre: ['', Validators.required],\n      descripcion: ['', Validators.required],\n      valor: ['', Validators.required]\n    });\n    this.jsonTratamientos.getTratamientos().subscribe(data => {\n      console.log(data);\n      this.tratamientos = data;\n    });\n  }\n  submitForm() {\n    if (!this.tratamientoForm.valid) {\n      alert('Revise los datos proporcionados, se han encontrado errores de validaciones.');\n    } else {\n      console.log('Guardando tratamiento.');\n      this.setTratamiento();\n    }\n  }\n  setTratamiento() {\n    console.log('Almacenando..');\n    var nombre = this.tratamientoForm.get('nombre').value;\n    var descripcion = this.tratamientoForm.get('descripcion').value;\n    var valor = this.tratamientoForm.get('valor').value;\n    this.tratamiento.nombre = nombre;\n    this.tratamiento.descripcion = descripcion;\n    this.tratamiento.valor = valor;\n    console.log('Adding..');\n    console.log(\"ANTES\");\n    console.log(this.tratamientos);\n    this.tratamientos.push(this.tratamiento);\n    console.log(\"DESPUES\");\n    console.log(this.tratamientos);\n    localStorage.setItem('tratamientos', JSON.stringify(this.tratamientos));\n  }\n  unsetTratamiento(id) {\n    console.log('Quitando Tratamientos ' + id);\n    this.tratamientos.splice(id, 1);\n    localStorage.setItem('Tratamientos', JSON.stringify(this.tratamientos));\n  }\n  static ctorParameters = () => [{\n    type: Router\n  }, {\n    type: FormBuilder\n  }, {\n    type: TratamientosService\n  }];\n};\nTratamientosComponent = __decorate([Component({\n  selector: 'app-tratamientos',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, HttpClientModule],\n  template: __NG_CLI_RESOURCE__0,\n  providers: [TratamientosService],\n  styles: [__NG_CLI_RESOURCE__1]\n})], TratamientosComponent);\nexport { TratamientosComponent };","map":{"version":3,"names":["Component","CommonModule","Router","FormBuilder","ReactiveFormsModule","Validators","TratamientosService","HttpClientModule","TratamientosComponent","router","fb","jsonTratamientos","tratamiento","tratamientos","tratamientoForm","constructor","ngOnInit","console","log","group","nombre","required","descripcion","valor","getTratamientos","subscribe","data","submitForm","valid","alert","setTratamiento","get","value","push","localStorage","setItem","JSON","stringify","unsetTratamiento","id","splice","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0","providers"],"sources":["/Users/jonathanbernal/Projects/Duoc/fullstack_2/duoc_cloudent-3.0.0/src/app/componentes/tratamientos/tratamientos.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { formatDate, CommonModule } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { TratamientosService } from '../../services/tratamientos.service';\nimport { HttpClientModule } from '@angular/common/http';\n\n/**\n * @descripcion\n * Administración de tratamientos\n * \n * Permite mandener tratamientos los que pueden ser utilizadns\n * en el formulario de agenda para seleccionar.\n * \n */\n\n/**\n * \n * @usageNotes\n * \n * Agregar tratamientos\n * Quitar tratamientos\n * Tratamienso almacenados en un arreglo temporal\n *\n **/\n\n\n@Component({\n  selector: 'app-tratamientos',\n  standalone: true,\n  imports: [ CommonModule,ReactiveFormsModule, HttpClientModule],\n  templateUrl: './tratamientos.component.html',\n  styleUrl: './tratamientos.component.css',\n  providers: [TratamientosService]\n})\n\nexport class TratamientosComponent {\n\n  tratamiento: any = {};\n  tratamientos: any[] = [];\n  tratamientoForm!: FormGroup;\n\n  constructor(private router: Router, private fb: FormBuilder, private jsonTratamientos: TratamientosService) {}\n\n  ngOnInit(): void {\n\n    console.log('Tratamientos');\n\n    this.tratamientoForm = this.fb.group({\n      nombre: ['', Validators.required],\n      descripcion: ['', Validators.required],\n      valor: ['', Validators.required],\n    });\n\n    this.jsonTratamientos.getTratamientos().subscribe(\n      data=> {\n        console.log(data);\n        this.tratamientos = data;\n      }\n    )\n\n  }\n\n  submitForm(): void {\n    if (!this.tratamientoForm.valid) {\n      alert('Revise los datos proporcionados, se han encontrado errores de validaciones.');\n    } else {\n      console.log('Guardando tratamiento.');\n      this.setTratamiento();\n    }\n  }\n\n  setTratamiento(): void {\n\n    console.log('Almacenando..');\n\n    var nombre = this.tratamientoForm.get('nombre')!.value;\n    var descripcion = this.tratamientoForm.get('descripcion')!.value;\n    var valor = this.tratamientoForm.get('valor')!.value;\n\n    this.tratamiento.nombre = nombre;\n    this.tratamiento.descripcion = descripcion;\n    this.tratamiento.valor = valor;\n\n    console.log('Adding..');\n\n    console.log(\"ANTES\");\n    console.log(this.tratamientos);\n\n    this.tratamientos.push(this.tratamiento);\n\n    console.log(\"DESPUES\");\n    console.log(this.tratamientos);\n\n    localStorage.setItem('tratamientos', JSON.stringify(this.tratamientos));\n\n  }\n\n  unsetTratamiento(id: number): void {\n\n    console.log('Quitando Tratamientos '+id);\n\n    this.tratamientos.splice(id, 1);\n    localStorage.setItem('Tratamientos', JSON.stringify(this.tratamientos));\n\n  } \n\n}\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAqBC,YAAY,QAAQ,iBAAiB;AAC1D,SAASC,MAAM,QAAQ,iBAAiB;AACxC,SAASC,WAAW,EAAaC,mBAAmB,EAAEC,UAAU,QAAQ,gBAAgB;AACxF,SAASC,mBAAmB,QAAQ,qCAAqC;AACzE,SAASC,gBAAgB,QAAQ,sBAAsB;AAEvD;;;;;;;;AASA;;;;;;;;;AAoBO,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAMZC,MAAA;EAAwBC,EAAA;EAAyBC,gBAAA;EAJrEC,WAAW,GAAQ,EAAE;EACrBC,YAAY,GAAU,EAAE;EACxBC,eAAe;EAEfC,YAAoBN,MAAc,EAAUC,EAAe,EAAUC,gBAAqC;IAAtF,KAAAF,MAAM,GAANA,MAAM;IAAkB,KAAAC,EAAE,GAAFA,EAAE;IAAuB,KAAAC,gBAAgB,GAAhBA,gBAAgB;EAAwB;EAE7GK,QAAQA,CAAA;IAENC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAE3B,IAAI,CAACJ,eAAe,GAAG,IAAI,CAACJ,EAAE,CAACS,KAAK,CAAC;MACnCC,MAAM,EAAE,CAAC,EAAE,EAAEf,UAAU,CAACgB,QAAQ,CAAC;MACjCC,WAAW,EAAE,CAAC,EAAE,EAAEjB,UAAU,CAACgB,QAAQ,CAAC;MACtCE,KAAK,EAAE,CAAC,EAAE,EAAElB,UAAU,CAACgB,QAAQ;KAChC,CAAC;IAEF,IAAI,CAACV,gBAAgB,CAACa,eAAe,EAAE,CAACC,SAAS,CAC/CC,IAAI,IAAE;MACJT,OAAO,CAACC,GAAG,CAACQ,IAAI,CAAC;MACjB,IAAI,CAACb,YAAY,GAAGa,IAAI;IAC1B,CAAC,CACF;EAEH;EAEAC,UAAUA,CAAA;IACR,IAAI,CAAC,IAAI,CAACb,eAAe,CAACc,KAAK,EAAE;MAC/BC,KAAK,CAAC,6EAA6E,CAAC;IACtF,CAAC,MAAM;MACLZ,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACrC,IAAI,CAACY,cAAc,EAAE;IACvB;EACF;EAEAA,cAAcA,CAAA;IAEZb,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAE5B,IAAIE,MAAM,GAAG,IAAI,CAACN,eAAe,CAACiB,GAAG,CAAC,QAAQ,CAAE,CAACC,KAAK;IACtD,IAAIV,WAAW,GAAG,IAAI,CAACR,eAAe,CAACiB,GAAG,CAAC,aAAa,CAAE,CAACC,KAAK;IAChE,IAAIT,KAAK,GAAG,IAAI,CAACT,eAAe,CAACiB,GAAG,CAAC,OAAO,CAAE,CAACC,KAAK;IAEpD,IAAI,CAACpB,WAAW,CAACQ,MAAM,GAAGA,MAAM;IAChC,IAAI,CAACR,WAAW,CAACU,WAAW,GAAGA,WAAW;IAC1C,IAAI,CAACV,WAAW,CAACW,KAAK,GAAGA,KAAK;IAE9BN,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IAEvBD,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACpBD,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,YAAY,CAAC;IAE9B,IAAI,CAACA,YAAY,CAACoB,IAAI,CAAC,IAAI,CAACrB,WAAW,CAAC;IAExCK,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtBD,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,YAAY,CAAC;IAE9BqB,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACxB,YAAY,CAAC,CAAC;EAEzE;EAEAyB,gBAAgBA,CAACC,EAAU;IAEzBtB,OAAO,CAACC,GAAG,CAAC,wBAAwB,GAACqB,EAAE,CAAC;IAExC,IAAI,CAAC1B,YAAY,CAAC2B,MAAM,CAACD,EAAE,EAAE,CAAC,CAAC;IAC/BL,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACxB,YAAY,CAAC,CAAC;EAEzE;;;;;;;;;AArEWL,qBAAqB,GAAAiC,UAAA,EATjCzC,SAAS,CAAC;EACT0C,QAAQ,EAAE,kBAAkB;EAC5BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAE3C,YAAY,EAACG,mBAAmB,EAAEG,gBAAgB,CAAC;EAC9DsC,QAAA,EAAAC,oBAA4C;EAE5CC,SAAS,EAAE,CAACzC,mBAAmB,CAAC;;CACjC,CAAC,C,EAEWE,qBAAqB,CAuEjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}